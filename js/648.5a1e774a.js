"use strict";(globalThis["webpackChunkalarm_light_kittens"]=globalThis["webpackChunkalarm_light_kittens"]||[]).push([[648],{1648:(e,a,t)=>{t.r(a),t.d(a,{default:()=>X});t(939),t(4520),t(7049),t(1746),t(4635);var n=t(1347),l=t(8633),o=t(7763),r=t(4187),i=t(4495),s=t.n(i),c=t(3022),u=t(6568),d=t(6575);const m={class:"row justify-center"},p={class:"col-12 col-xl-10"},g={class:"column q-gutter-lg"},f={class:"text-h6 text-primary flex items-center"},b={class:"text-h6 text-primary flex items-center q-mb-md"},v={class:"q-gutter-y-md"},y={class:"row q-col-gutter-sm"},k={class:"col-6"},h={class:"col-6"},x={class:"row items-center q-px-sm border-grey-1 rounded-borders bg-white q-py-xs"},w={class:"row q-gutter-sm justify-center q-mt-md"},q={class:"row items-center q-mb-sm"},F={class:"text-subtitle2 text-grey-8"},_={class:"row q-gutter-xs justify-end no-wrap"},S="longan_geocode_cache",L={__name:"IndexPage",setup(e){const a=(0,c.A)(),t=(0,r.KR)(""),i=(0,r.KR)(null),L=(0,r.KR)(null),A=(0,r.KR)(!1),V=(0,r.KR)(""),C=(0,r.KR)(!1),z=(0,r.KR)(!1),Z=(0,r.KR)(!1),R=(0,r.KR)(""),T=(0,r.KR)(""),Q=(0,r.KR)(!1),K=(0,r.KR)(null),N=(0,r.KR)(null),B=(0,r.Kh)({});function U(e){return String(e||"").trim()}function j(e){const a=Number(e);return Number.isFinite(a)?a:NaN}function I(e){if(!0===e||1===e||"1"===e)return!0;if(!1===e||0===e||"0"===e)return!1;if("string"===typeof e){const a=e.trim().toLowerCase();if("true"===a||"yes"===a||"y"===a)return!0;if("false"===a||"no"===a||"n"===a)return!1}return!!e}function $(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const P=(0,n.EW)(()=>Object.keys(B).sort().map(e=>({name:e,lat:B[e].lat,lng:B[e].lng,isSafeZone:!!B[e].isSafeZone,marker:B[e].marker}))),W=[{name:"name",label:"ชื่อสถานที่",field:"name",align:"left",sortable:!0},{name:"lat",label:"Latitude",field:"lat",align:"left",format:e=>j(e).toFixed(5)},{name:"lng",label:"Longitude",field:"lng",align:"left",format:e=>j(e).toFixed(5)},{name:"isSafeZone",label:"สถานะ Safe Zone",field:"isSafeZone",align:"center",sortable:!0},{name:"actions",label:"จัดการ",align:"right"}],E=s().icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),O=s().icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),M=d.T,G={center:[18.8,99],zoom:8},D=(0,r.KR)({type:"bounds",payload:null});function J(){return a.screen.xs||a.screen.sm?16:17}function X(){return a.screen.xs?24:a.screen.sm?34:a.screen.md?46:60}function Y(){return a.screen.xs?120:a.screen.sm?95:75}function H(e,a=J(),t=null){if(!K.value)return;const n=Array.isArray(e)?s().latLng(e[0],e[1]):e;K.value.flyTo(n,a,{duration:.7}),setTimeout(()=>{K.value&&(t&&t.openPopup(),K.value.panBy([0,-Y()],{animate:!0}))},750),D.value={type:"point",payload:{latlng:n}}}function ee(e){if(!K.value)return;const a=X();K.value.fitBounds(e,{paddingTopLeft:[a,a],paddingBottomRight:[a,a]}),D.value={type:"bounds",payload:{bounds:e}}}function ae(){K.value&&D.value?.payload&&("point"===D.value.type?H(D.value.payload.latlng,J()):ee(D.value.payload.bounds))}function te(){K.value&&setTimeout(()=>{try{K.value?.invalidateSize()}catch{}},60)}let ne=null;function le(){clearTimeout(ne),ne=setTimeout(()=>{te(),setTimeout(()=>ae(),80)},150)}function oe(){if(K.value){try{K.value.off(),K.value.remove()}catch{}K.value=null,N.value=null}}function re(){try{N.value?.clearLayers()}catch{}for(const e of Object.keys(B))delete B[e]}async function ie(){const e=await u.api.get("/api/markers");return Array.isArray(e.data)?e.data:[]}async function se(){z.value=!0;try{const e=await ie();if(!K.value)return;re(),e.length>0?e.forEach(e=>{const a=U(e.name),t=j(e.lat),n=j(e.lng),l=I(e.isSafeZone);de(a,t,n,l,!1,!1)}):M.forEach(e=>de(e.name,e.lat,e.lng,!1,!1,!1))}catch(e){console.error("Failed to fetch markers:",e),re(),M.forEach(e=>de(e.name,e.lat,e.lng,!1,!1,!1)),a.notify({color:"warning",message:"โหลดข้อมูลจากฐานข้อมูลไม่สำเร็จ ใช้ค่าเริ่มต้นแทน",icon:"warning"})}finally{z.value=!1,setTimeout(()=>pe(),80)}}async function ce(){K.value&&oe(),K.value=(0,r.IG)(s().map("map").setView(G.center,G.zoom)),s().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(K.value),N.value=(0,r.IG)(s().layerGroup()).addTo(K.value),K.value.on("click",e=>{i.value=Number(e.latlng.lat.toFixed(6)),L.value=Number(e.latlng.lng.toFixed(6)),a.notify({color:"info",message:`เลือกพิกัด: ${i.value}, ${L.value}`,icon:"add_location",timeout:1500,position:"bottom-right"})}),te(),await se()}async function ue(){if(!K.value)return ce();await se(),te()}function de(e,a,t,n=!1,l=!1,o=!0){const i=U(e),c=j(a),u=j(t);if(!i||!Number.isFinite(c)||!Number.isFinite(u)||!N.value)return;const d=I(n),m=d?O:E;if(B[i]){const e=B[i].marker;e.setLatLng([c,u]),e.setIcon(m),e.setPopupContent(me(i,c,u,d)),B[i].lat=c,B[i].lng=u,B[i].isSafeZone=d}else{const e=s().marker([c,u],{icon:m}).addTo(N.value);e.bindPopup(me(i,c,u,d)),e.on("popupopen",e=>{const a=e.popup.getElement();if(!a)return;const t=a.querySelector('[data-action="edit"]'),n=a.querySelector('[data-action="delete"]');t&&(t.onclick=()=>fe(i)),n&&(n.onclick=()=>ve(i))}),e.on("mouseover",()=>e.openPopup()),e.on("mouseout",()=>e.closePopup()),e.on("click",()=>{e.openPopup(),he({lat:c,lng:u,marker:e})}),B[i]={lat:c,lng:u,isSafeZone:d,marker:(0,r.IG)(e)}}o&&pe(),l&&K.value&&H([c,u],J(),B[i]?.marker)}function me(e,a,t,n){const l=$(e);return`\n    <div class="custom-popup">\n      <div style="font-weight:600;font-size:14px;margin-bottom:4px;">\n        ${l}\n        ${n?'<span style="color:red;margin-left:5px;">(Safe Zone)</span>':""}\n      </div>\n      <div style="font-size:12px;color:#666;margin-bottom:8px;">\n        Lat: ${a.toFixed(6)}<br/>Lng: ${t.toFixed(6)}\n      </div>\n      <div class="row q-gutter-xs">\n        <button data-action="edit"\n          class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle text-primary q-focusable q-hoverable q-btn--dense"\n          style="font-size:11px;padding:4px 8px;min-height:unset;">\n          <span class="q-btn__content text-center col items-center q-anchor--skip justify-center row">\n            <i class="q-icon material-icons" aria-hidden="true" role="img">edit</i>\n            <span class="block q-ml-xs">แก้ไข</span>\n          </span>\n        </button>\n\n        <button data-action="delete"\n          class="q-btn q-btn-item non-selectable no-outline q-btn--flat q-btn--rectangle text-negative q-focusable q-hoverable q-btn--dense"\n          style="font-size:11px;padding:4px 8px;min-height:unset;">\n          <span class="q-btn__content text-center col items-center q-anchor--skip justify-center row">\n            <i class="q-icon material-icons" aria-hidden="true" role="img">delete</i>\n            <span class="block q-ml-xs">ลบ</span>\n          </span>\n        </button>\n      </div>\n    </div>\n  `}function pe(){if(!K.value)return;const e=Object.values(B);if(0===e.length)return K.value.setView(G.center,G.zoom),void(D.value={type:"bounds",payload:null});const a=s().featureGroup(e.map(e=>e.marker)),t=a.getBounds();if(1===e.length){const a=e[0];H([a.lat,a.lng],J(),a.marker)}else ee(t)}async function ge(){const e=U(t.value),n=j(i.value),l=j(L.value);if(!e||!Number.isFinite(n)||!Number.isFinite(l))return void a.notify({color:"negative",message:"กรุณากรอกชื่อสถานที่ และ Latitude/Longitude ให้ครบถ้วน",icon:"warning"});const o={name:e,lat:n,lng:l,isSafeZone:!!A.value};try{await u.api.post("/api/markers",o),de(o.name,o.lat,o.lng,o.isSafeZone,!0,!0),a.notify({color:"positive",message:`บันทึก "${e}" เรียบร้อยแล้ว`,icon:"check_circle"})}catch(e){console.error("Error saving marker:",e),a.notify({color:"negative",message:"เกิดข้อผิดพลาดในการบันทึกข้อมูล",icon:"error"})}finally{te()}}function fe(e){const a=U(e);R.value=a,T.value=a,Q.value=!!B[a]?.isSafeZone,Z.value=!0}async function be(){const e=U(R.value),t=U(T.value),n=!!Q.value;if(!t)return void a.notify({color:"warning",message:"กรุณากรอกชื่อสถานที่"});const l=B[e];if(l)if(e!==t||!!l.isSafeZone!==n){a.loading.show({message:"กำลังบันทึกการแก้ไข..."});try{const o={name:t,lat:l.lat,lng:l.lng,isSafeZone:n};await u.api.post("/api/markers",o),e!==t&&(await u.api.delete(`/api/markers/${encodeURIComponent(e)}`),N.value?.removeLayer(l.marker),delete B[e]),de(o.name,o.lat,o.lng,o.isSafeZone,!1,!0),a.notify({color:"positive",message:"บันทึกการแก้ไขเรียบร้อยแล้ว",icon:"check_circle"}),Z.value=!1}catch(e){console.error("Update failed:",e),a.notify({color:"negative",message:"บันทึกไม่สำเร็จ",icon:"error"})}finally{a.loading.hide()}}else Z.value=!1;else Z.value=!1}function ve(e){const t=U(e);a.dialog({title:"ยืนยันการลบ",message:`คุณต้องการลบตำแหน่ง "${t}" ใช่หรือไม่?`,cancel:!0,persistent:!0,ok:{flat:!0,color:"negative",label:"ลบออก"}}).onOk(async()=>{await ye(t)})}async function ye(e){const t=U(e);try{await u.api.delete(`/api/markers/${encodeURIComponent(t)}`),B[t]&&(N.value?.removeLayer(B[t].marker),delete B[t]),pe(),a.notify({color:"positive",message:`ลบ "${t}" เรียบร้อยแล้ว`,icon:"delete"})}catch(e){console.error("Error deleting marker:",e),a.notify({color:"negative",message:"เกิดข้อผิดพลาดในการลบข้อมูล",icon:"error"})}finally{te()}}function ke(){t.value="",i.value=null,L.value=null,A.value=!1,V.value=""}function he(e){H([e.lat,e.lng],J(),e.marker)}async function xe(){const e=U(V.value);if(e){C.value=!0;try{const t=await we(e);if(t){i.value=Number(t.lat.toFixed(6)),L.value=Number(t.lng.toFixed(6));const e=a.screen.xs?15:16;H([t.lat,t.lng],e),a.notify({color:"positive",message:"พบตำแหน่งแล้ว",icon:"check"})}else a.notify({color:"negative",message:"ไม่พบพิกัดจากที่อยู่นี้",icon:"error"})}catch(e){console.error(e),a.notify({color:"negative",message:"เกิดข้อผิดพลาดในการเชื่อมต่อ",icon:"error"})}finally{C.value=!1,te()}}else a.notify({color:"warning",message:"กรุณากรอกที่อยู่สำหรับค้นหา",icon:"search"})}async function we(e){let a={};try{const e=localStorage.getItem(S);e&&(a=JSON.parse(e)||{})}catch{a={}}if(a[e])return a[e];const t="https://nominatim.openstreetmap.org/search?format=jsonv2&limit=1&q="+encodeURIComponent(e),n=await fetch(t,{headers:{Accept:"application/json"}});if(!n.ok)throw new Error("Geocoding error");const l=await n.json();if(!l||0===l.length)return null;const o=parseFloat(l[0].lat),r=parseFloat(l[0].lon);a[e]={lat:o,lng:r};try{localStorage.setItem(S,JSON.stringify(a))}catch{}return{lat:o,lng:r}}return(0,n.sV)(async()=>{await(0,n.dY)(),await ce(),window.addEventListener("resize",le),setTimeout(()=>te(),250)}),(0,n.xo)(()=>{window.removeEventListener("resize",le),oe()}),(e,a)=>{const r=(0,n.g2)("q-badge"),s=(0,n.g2)("q-card-section"),c=(0,n.g2)("q-separator"),u=(0,n.g2)("q-spinner-gears"),d=(0,n.g2)("q-inner-loading"),S=(0,n.g2)("q-card"),R=(0,n.g2)("q-icon"),K=(0,n.g2)("q-input"),N=(0,n.g2)("q-btn"),B=(0,n.g2)("q-checkbox"),U=(0,n.g2)("q-space"),j=(0,n.g2)("q-tooltip"),I=(0,n.g2)("q-chip"),$=(0,n.g2)("q-td"),E=(0,n.g2)("q-table"),O=(0,n.g2)("q-card-actions"),M=(0,n.g2)("q-dialog"),G=(0,n.g2)("q-page"),D=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(G,{class:"q-pa-md bg-grey-2"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",m,[(0,n.Lk)("div",p,[a[20]||(a[20]=(0,n.Lk)("h1",{class:"text-h4 text-center text-weight-bold q-mb-xs text-primary"}," กำหนดสถานที่ปลอดภัย ",-1)),a[21]||(a[21]=(0,n.Lk)("p",{class:"text-subtitle1 text-center text-grey-7 q-mb-lg"}," โรงเรียนวารีเชียงใหม่ (Northern Thailand) ",-1)),(0,n.Lk)("div",g,[(0,n.bF)(S,{class:"my-card map-card"},{default:(0,n.k6)(()=>[(0,n.bF)(s,{class:"q-pb-none"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",f,[(0,n.bF)(r,{color:"primary",class:"q-mr-sm text-subtitle2"},{default:(0,n.k6)(()=>[...a[8]||(a[8]=[(0,n.eW)("1",-1)])]),_:1}),a[9]||(a[9]=(0,n.eW)(" แผนที่ (LeafletJS + OSM) ",-1))]),a[10]||(a[10]=(0,n.Lk)("p",{class:"text-caption text-grey-7 q-ma-none"}," คลิกที่ Marker เพื่อดูรายละเอียด (Popup) ",-1))]),_:1}),(0,n.bF)(c),(0,n.bF)(s,{class:"map-body relative-position"},{default:(0,n.k6)(()=>[a[12]||(a[12]=(0,n.Lk)("div",{id:"map",class:"map-container rounded-borders shadow-1"},null,-1)),(0,n.bF)(d,{showing:z.value},{default:(0,n.k6)(()=>[(0,n.bF)(u,{size:"50px",color:"primary"}),a[11]||(a[11]=(0,n.Lk)("div",{class:"text-subtitle2 q-mt-sm"},"กำลังโหลดข้อมูลสถานที่...",-1))]),_:1},8,["showing"])]),_:1})]),_:1}),(0,n.bF)(S,{class:"my-card q-mb-md"},{default:(0,n.k6)(()=>[(0,n.bF)(s,null,{default:(0,n.k6)(()=>[(0,n.Lk)("div",b,[(0,n.bF)(r,{color:"primary",class:"q-mr-sm text-subtitle2"},{default:(0,n.k6)(()=>[...a[13]||(a[13]=[(0,n.eW)("2",-1)])]),_:1}),a[14]||(a[14]=(0,n.eW)(" ฟอร์มบันทึกตำแหน่ง (Marker Form) ",-1))]),(0,n.Lk)("div",v,[(0,n.bF)(K,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),label:"ชื่อสถานที่ / อาคาร",placeholder:"เช่น อาคารที่ 1",outlined:"",dense:"","bg-color":"white",rules:[e=>!!String(e||"").trim()||"กรุณากรอกชื่อสถานที่"]},{prepend:(0,n.k6)(()=>[(0,n.bF)(R,{name:"place"})]),_:1},8,["modelValue","rules"]),(0,n.Lk)("div",y,[(0,n.Lk)("div",k,[(0,n.bF)(K,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),modelModifiers:{number:!0},type:"number",label:"Latitude",placeholder:"18.xxxx",outlined:"",dense:"","bg-color":"white",step:"0.000001"},null,8,["modelValue"])]),(0,n.Lk)("div",h,[(0,n.bF)(K,{modelValue:L.value,"onUpdate:modelValue":a[2]||(a[2]=e=>L.value=e),modelModifiers:{number:!0},type:"number",label:"Longitude",placeholder:"99.xxxx",outlined:"",dense:"","bg-color":"white",step:"0.000001"},null,8,["modelValue"])])]),(0,n.bF)(K,{modelValue:V.value,"onUpdate:modelValue":a[3]||(a[3]=e=>V.value=e),label:"ค้นหาจากชื่อที่อยู่ (Geocoding)",placeholder:"เช่น โรงเรียนวารี",outlined:"",dense:"","bg-color":"white",onKeyup:(0,l.jR)(xe,["enter"]),hint:"ใช้บริการ Nominatim (OpenStreetMap)"},{append:(0,n.k6)(()=>[(0,n.bF)(N,{flat:"",round:"",color:"primary",icon:"search",onClick:xe,loading:C.value},null,8,["loading"])]),_:1},8,["modelValue"]),(0,n.Lk)("div",x,[(0,n.bF)(B,{modelValue:A.value,"onUpdate:modelValue":a[4]||(a[4]=e=>A.value=e),label:"สถานะ Safe Zone (จุดปลอดภัย)",color:"positive","keep-color":""},null,8,["modelValue"]),(0,n.bF)(R,{name:"emergency",color:A.value?"red":"grey-4",size:"22px",class:"q-ml-sm"},null,8,["color"])]),(0,n.Lk)("div",w,[(0,n.bF)(N,{unelevated:"",color:"secondary","text-color":"white",icon:"my_location",label:"ค้นหาพิกัด",onClick:xe,loading:C.value,class:"col-auto"},null,8,["loading"]),(0,n.bF)(N,{unelevated:"",color:"positive",icon:"add_location_alt",label:"เพิ่ม/อัปเดต",onClick:ge,class:"col-auto"}),(0,n.bF)(N,{outline:"",color:"grey-7",label:"ล้างค่า",onClick:ke,class:"col-auto"})])])]),_:1}),(0,n.bF)(c),(0,n.bF)(s,null,{default:(0,n.k6)(()=>[(0,n.Lk)("div",q,[(0,n.Lk)("div",F," รายการ Marker ("+(0,o.v_)(P.value.length)+") ",1),(0,n.bF)(U),(0,n.bF)(N,{flat:"",round:"",color:"primary",icon:"refresh",size:"sm",onClick:ue,loading:z.value},{default:(0,n.k6)(()=>[(0,n.bF)(j,null,{default:(0,n.k6)(()=>[...a[15]||(a[15]=[(0,n.eW)("รีเฟรชข้อมูล",-1)])]),_:1})]),_:1},8,["loading"])]),(0,n.bF)(E,{rows:P.value,columns:W,"row-key":"name",flat:"",bordered:"",dense:"",pagination:{rowsPerPage:10},class:"bg-white"},{"body-cell-isSafeZone":(0,n.k6)(e=>[(0,n.bF)($,{props:e,class:"text-center"},{default:(0,n.k6)(()=>[e.value?((0,n.uX)(),(0,n.Wv)(I,{key:0,color:"negative","text-color":"white",size:"sm",dense:"",icon:"emergency",label:"Safe"})):((0,n.uX)(),(0,n.Wv)(I,{key:1,color:"grey-3","text-color":"grey-8",size:"sm",dense:"",label:"-"}))]),_:2},1032,["props"])]),"body-cell-actions":(0,n.k6)(e=>[(0,n.bF)($,{props:e,class:"text-right"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",_,[(0,n.bF)(N,{flat:"",round:"",color:"primary",icon:"my_location",size:"sm",onClick:(0,l.D$)(a=>he(e.row),["stop"])},{default:(0,n.k6)(()=>[(0,n.bF)(j,null,{default:(0,n.k6)(()=>[...a[16]||(a[16]=[(0,n.eW)("ไปที่ตำแหน่งนี้",-1)])]),_:1})]),_:1},8,["onClick"]),(0,n.bF)(N,{flat:"",round:"",color:"orange",icon:"edit",size:"sm",onClick:(0,l.D$)(a=>fe(e.row.name),["stop"])},{default:(0,n.k6)(()=>[(0,n.bF)(j,null,{default:(0,n.k6)(()=>[...a[17]||(a[17]=[(0,n.eW)("แก้ไขชื่อ/สถานะ",-1)])]),_:1})]),_:1},8,["onClick"]),(0,n.bF)(N,{flat:"",round:"",color:"negative",icon:"delete",size:"sm",onClick:(0,l.D$)(a=>ve(e.row.name),["stop"])},{default:(0,n.k6)(()=>[(0,n.bF)(j,null,{default:(0,n.k6)(()=>[...a[18]||(a[18]=[(0,n.eW)("ลบ",-1)])]),_:1})]),_:1},8,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1})]),_:1})]),(0,n.bF)(M,{modelValue:Z.value,"onUpdate:modelValue":a[7]||(a[7]=e=>Z.value=e),persistent:""},{default:(0,n.k6)(()=>[(0,n.bF)(S,{style:{"min-width":"350px","border-radius":"12px",overflow:"hidden"}},{default:(0,n.k6)(()=>[(0,n.bF)(s,{class:"bg-primary text-white q-pa-md"},{default:(0,n.k6)(()=>[...a[19]||(a[19]=[(0,n.Lk)("div",{class:"text-h6 text-weight-bold"},"แก้ไขชื่อสถานที่",-1)])]),_:1}),(0,n.bF)(s,{class:"q-pt-lg q-gutter-y-md"},{default:(0,n.k6)(()=>[(0,n.bF)(K,{modelValue:T.value,"onUpdate:modelValue":a[5]||(a[5]=e=>T.value=e),label:"ชื่อสถานที่ใหม่",outlined:"",dense:"",autofocus:"",onKeyup:(0,l.jR)(be,["enter"]),rules:[e=>!!String(e||"").trim()||"กรุณากรอกชื่อสถานที่"]},null,8,["modelValue","rules"]),(0,n.bF)(B,{modelValue:Q.value,"onUpdate:modelValue":a[6]||(a[6]=e=>Q.value=e),label:"สถานะ Safe Zone (จุดปลอดภัย)",color:"negative"},null,8,["modelValue"])]),_:1}),(0,n.bF)(O,{align:"right",class:"text-primary q-pb-md q-px-md"},{default:(0,n.k6)(()=>[(0,n.bo)((0,n.bF)(N,{flat:"",label:"ยกเลิก",color:"grey-7"},null,512),[[D]]),(0,n.bF)(N,{unelevated:"",label:"บันทึกการแก้ไข",color:"primary",onClick:be})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a[22]||(a[22]=(0,n.Lk)("div",{class:"text-center q-mt-lg text-caption text-grey"}," Program by Vue.js & Quasar Framework | Leaflet.js | OpenStreetMap ",-1))])])]),_:1})}}};var A=t(2968),V=t(5013),C=t(3341),z=t(222),Z=t(8155),R=t(6915),T=t(8356),Q=t(9667),K=t(6067),N=t(3933),B=t(9039),U=t(8349),j=t(5873),I=t(8387),$=t(9183),P=t(8785),W=t(1529),E=t(45),O=t(5034),M=t(8657),G=t(272),D=t.n(G);const J=(0,A.A)(L,[["__scopeId","data-v-8658a2e4"]]),X=J;D()(L,"components",{QPage:V.A,QCard:C.A,QCardSection:z.A,QBadge:Z.A,QSeparator:R.A,QInnerLoading:T.A,QSpinnerGears:Q.A,QInput:K.A,QIcon:N.A,QBtn:B.A,QCheckbox:U.A,QSpace:j.A,QTooltip:I.A,QTable:$.A,QTd:P.A,QChip:W.A,QDialog:E.A,QCardActions:O.A}),D()(L,"directives",{ClosePopup:M.A})},6575:(e,a,t)=>{t.d(a,{T:()=>n,p:()=>l});const n=[{name:"อาคาร 1 อาคารอำนวยการ",lat:18.758769,lng:99.014645},{name:"อาคาร 2 อาคารสารสนเทศ",lat:18.758914,lng:99.015257},{name:"อาคาร 3 อาคารประถมศึกษา",lat:18.758361,lng:99.015129},{name:"อาคาร 4 อาคารมัธยมศึกษาตอนต้น",lat:18.757983,lng:99.015512},{name:"อาคาร 5 อาคารอนุบาล สระว่ายน้ำ โรงอาหาร",lat:18.758168,lng:99.015763},{name:"อาคาร 6 อาคารพลศึกษา ห้องสภานักเรียน",lat:18.757394,lng:99.015381},{name:"อาคาร 7 อาคารมัธยมศึกษาตอนปลาย ห้องสมุด",lat:18.75759,lng:99.015905},{name:"สนามฟุตซอล (Futsal)",lat:18.757955,lng:99.015097},{name:"สนามหญ้าจริง (Safe Zone)",lat:18.757826,lng:99.014679},{name:"สนามบาสเก็ดบอล",lat:18.757833,lng:99.015761}],l=[{nameA:"อาคาร 1 อาคารอำนวยการ",nameB:"อาคาร 3 อาคารประถมศึกษา",distance:50,time:2},{nameA:"อาคาร 3 อาคารประถมศึกษา",nameB:"สนามฟุตซอล (Futsal)",distance:40,time:1},{nameA:"สนามฟุตซอล (Futsal)",nameB:"สนามหญ้าจริง (Safe Zone)",distance:30,time:1},{nameA:"อาคาร 2 อาคารสารสนเทศ",nameB:"สนามฟุตซอล (Futsal)",distance:60,time:2},{nameA:"อาคาร 1 อาคารอำนวยการ",nameB:"อาคาร 2 อาคารสารสนเทศ",distance:15,time:1},{nameA:"อาคาร 2 อาคารสารสนเทศ",nameB:"อาคาร 3 อาคารประถมศึกษา",distance:45,time:2},{nameA:"อาคาร 4 อาคารมัธยมศึกษาตอนต้น",nameB:"สนามฟุตซอล (Futsal)",distance:25,time:1},{nameA:"อาคาร 5 อาคารอนุบาล สระว่ายน้ำ โรงอาหาร",nameB:"อาคาร 4 อาคารมัธยมศึกษาตอนต้น",distance:35,time:1},{nameA:"อาคาร 6 อาคารพลศึกษา ห้องสภานักเรียน",nameB:"สนามหญ้าจริง (Safe Zone)",distance:55,time:2},{nameA:"อาคาร 7 อาคารมัธยมศึกษาตอนปลาย ห้องสมุด",nameB:"สนามบาสเก็ดบอล",distance:40,time:2}]}}]);