"use strict";(globalThis["webpackChunkalarm_light_kittens"]=globalThis["webpackChunkalarm_light_kittens"]||[]).push([[633],{6575:(e,a,t)=>{t.d(a,{T:()=>l,p:()=>n});const l=[{name:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 1 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£",lat:18.758769,lng:99.014645},{name:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 2 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®",lat:18.758914,lng:99.015257},{name:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 3 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤",lat:18.758361,lng:99.015129},{name:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 4 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô",lat:18.757983,lng:99.015512},{name:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 5 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• ‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ ‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£",lat:18.758168,lng:99.015763},{name:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 6 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏†‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",lat:18.757394,lng:99.015381},{name:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 7 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢ ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î",lat:18.75759,lng:99.015905},{name:"‡∏™‡∏ô‡∏≤‡∏°‡∏ü‡∏∏‡∏ï‡∏ã‡∏≠‡∏• (Futsal)",lat:18.757955,lng:99.015097},{name:"‡∏™‡∏ô‡∏≤‡∏°‡∏´‡∏ç‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á (Safe Zone)",lat:18.757826,lng:99.014679},{name:"‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏≤‡∏™‡πÄ‡∏Å‡πá‡∏î‡∏ö‡∏≠‡∏•",lat:18.757833,lng:99.015761}],n=[{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 1 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£",nameB:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 3 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤",distance:50,time:2},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 3 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤",nameB:"‡∏™‡∏ô‡∏≤‡∏°‡∏ü‡∏∏‡∏ï‡∏ã‡∏≠‡∏• (Futsal)",distance:40,time:1},{nameA:"‡∏™‡∏ô‡∏≤‡∏°‡∏ü‡∏∏‡∏ï‡∏ã‡∏≠‡∏• (Futsal)",nameB:"‡∏™‡∏ô‡∏≤‡∏°‡∏´‡∏ç‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á (Safe Zone)",distance:30,time:1},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 2 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®",nameB:"‡∏™‡∏ô‡∏≤‡∏°‡∏ü‡∏∏‡∏ï‡∏ã‡∏≠‡∏• (Futsal)",distance:60,time:2},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 1 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Å‡∏≤‡∏£",nameB:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 2 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®",distance:15,time:1},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 2 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®",nameB:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 3 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤",distance:45,time:2},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 4 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô",nameB:"‡∏™‡∏ô‡∏≤‡∏°‡∏ü‡∏∏‡∏ï‡∏ã‡∏≠‡∏• (Futsal)",distance:25,time:1},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 5 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• ‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ ‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£",nameB:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 4 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô",distance:35,time:1},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 6 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏†‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô",nameB:"‡∏™‡∏ô‡∏≤‡∏°‡∏´‡∏ç‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á (Safe Zone)",distance:55,time:2},{nameA:"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ 7 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢ ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î",nameB:"‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏≤‡∏™‡πÄ‡∏Å‡πá‡∏î‡∏ö‡∏≠‡∏•",distance:40,time:2}]},7633:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ae});t(939),t(6461),t(7008),t(4520),t(7049),t(1746),t(3142),t(8832),t(8825),t(2528),t(4207),t(9188),t(1118),t(4635);var l=t(1347),n=t(7763),o=t(8633),s=t(4187),i=t(3022),u=t(6568),r=t(4495),c=t.n(r),d=t(6575);const m={class:"row justify-center"},v={class:"col-12 col-xl-10"},g={class:"row q-col-gutter-md items-center"},p={class:"col-12 col-sm-6"},h={class:"col-12 col-sm-6"},f={class:"row items-center q-mt-sm justify-end"},b={class:"col-auto"},k={key:0,class:"row q-col-gutter-sm justify-center q-mt-md"},y={class:"col-auto"},w={class:"column items-center"},_={class:"text-subtitle1"},x={class:"col-auto"},L={class:"column items-center"},A={class:"text-subtitle1"},F={class:"absolute-bottom-left q-ma-md bg-white q-pa-sm rounded-borders shadow-2 z-max",style:{opacity:"0.9",border:"1px solid #ddd"}},S={class:"row q-gutter-sm items-center no-wrap"},q={class:"row items-center no-wrap"},T={class:"row items-center no-wrap"},B={class:"row items-center no-wrap"},W="graph_cache_live_v2",Q=250,K={__name:"TractPath",setup(e){const a=(0,i.A)();function t(e){if(!e||isNaN(e))return"00:00:00";const a=Math.floor(e/3600),t=Math.floor(e%3600/60),l=Math.round(e%60);return[a,t,l].map(e=>e.toString().padStart(2,"0")).join(":")}function r(e){a.loading?.show?.({message:e})}function K(){a.loading?.hide?.()}function E(){try{const e=localStorage.getItem(W);if(!e)return!1;const{markers:a,edges:t}=JSON.parse(e);return Array.isArray(a)&&(X.value=a),Array.isArray(t)&&(Z.value=t),!0}catch{return!1}}function N(){try{localStorage.setItem(W,JSON.stringify({markers:X.value,edges:Z.value,ts:Date.now()}))}catch{}}const R=c().icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),$=c().icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",shadowSize:[41,41]}),P=c().divIcon({className:"user-marker-icon",html:'<div class="pulse-marker"></div>',iconSize:[20,20],iconAnchor:[10,10]}),z=(0,s.KR)(!1),G=(0,s.KR)(!1),I=(0,s.KR)(null),C=(0,s.KR)(null),M=(0,s.KR)(null),V=(0,s.KR)(!0),X=(0,s.KR)([]),Z=(0,s.KR)([]),U=(0,s.KR)(!1),j=(0,s.KR)(!0),O=(0,s.KR)([]),H=(0,s.KR)(0);let D=-1;const J=(0,l.EW)(()=>{const e={};return X.value.forEach(a=>{const t=Number(a.lat),l=Number(a.lng);!a.name||isNaN(t)||isNaN(l)||(e[a.name]={lat:t,lng:l,isSafeZone:!!a.isSafeZone})}),e}),Y=(0,l.EW)(()=>Object.keys(J.value).sort().map(e=>{const a=J.value[e]?.isSafeZone;return{label:a?`üö® ${e} (‡∏à‡∏∏‡∏î‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)`:e,value:e,isSafe:a}})),ee=(0,s.Kh)({distance:0,time:0}),ae=(0,s.Kh)({distance:0,time:0}),te=(0,s.KR)(null),le={baseEdges:null,nodes:null,user:null,history:null,route:null};let ne=null,oe=null,se=null,ie=null;const ue=(0,s.KR)([]),re=(0,s.KR)({});function ce(){const e={};for(const a in J.value)e[a]=[];Z.value.forEach(a=>{if(!e[a.nameA]||!e[a.nameB])return;const t=Number(a.distance);isNaN(t)||(e[a.nameA].push({node:a.nameB,weight:t}),e[a.nameB].push({node:a.nameA,weight:t}))}),re.value=e}(0,l.wB)([J,Z],()=>{ce()});let de=null,me=null;function ve(){if(de)try{de.closePopup()}catch{}if(me)try{me.closeTooltip()}catch{}de=null,me=null}function ge(){return a.screen.xs?16:a.screen.sm?17:18}function pe(){te.value||(te.value=(0,s.IG)(c().map("map-trace",{preferCanvas:!0}).setView([18.758,99.015],ge())),c().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:20,attribution:"OpenStreetMap"}).addTo(te.value),le.baseEdges=c().layerGroup().addTo(te.value),le.nodes=c().layerGroup().addTo(te.value),le.route=c().layerGroup().addTo(te.value),le.history=c().layerGroup().addTo(te.value),le.user=c().layerGroup().addTo(te.value),te.value.on("dragstart",()=>{V.value=!1}),te.value.on("click",()=>{ve()}),window.addEventListener("resize",he))}function he(){te.value&&te.value.invalidateSize()}function fe(){return d.p.map((e,a)=>({id:`seed-${a}`,nameA:e.nameA,nameB:e.nameB,distance:Number(e.distance),time:Number(e.time)}))}async function be(){r("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏≥‡∏ó‡∏≤‡∏á...");try{U.value=!0;const[e,a]=await Promise.all([u.api.get("/api/markers"),u.api.get("/api/edges")]);X.value=e.data?.length?e.data:[...d.T],Z.value=a.data?.length?a.data:fe(),Z.value=Z.value.filter(e=>J.value[e.nameA]&&J.value[e.nameB]),ke(),N(),!M.value&&Y.value.length>0&&(M.value=Y.value[0].value)}catch(e){console.error(e),a.notify?.({type:"negative",message:"‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏£‡∏≠‡∏á)"}),X.value=[...d.T],Z.value=fe().filter(e=>J.value[e.nameA]&&J.value[e.nameB]),ke()}finally{U.value=!1,K()}}function ke(){if(!te.value)return;ve(),le.baseEdges.clearLayers(),le.nodes.clearLayers();const e=c().latLngBounds();let a=!1;for(const t in J.value){const l=J.value[t],n=!!l.isSafeZone,o=n?$:R,s=c().marker([l.lat,l.lng],{icon:o}).bindPopup(`<b>${t}</b>${n?' <span style="color:red">(Safe Zone)</span>':""}<br>Lat: ${l.lat.toFixed(6)}<br>Lng: ${l.lng.toFixed(6)}`);s.on("mouseover",()=>s.openPopup()),s.on("mouseout",()=>{de!==s&&s.closePopup()}),s.on("click",()=>{if(de&&de!==s)try{de.closePopup()}catch{}de=s,s.openPopup()}),le.nodes.addLayer(s),e.extend([l.lat,l.lng]),a=!0}Z.value.forEach(t=>{const l=J.value[t.nameA],n=J.value[t.nameB];if(!l||!n)return;const o=c().polyline([[l.lat,l.lng],[n.lat,n.lng]],{color:"#3388ff",weight:3,opacity:.6});o.bindTooltip(`${t.distance}‡∏°. / ${t.time}‡∏ô.`,{permanent:!0,direction:"center",className:"edge-label-style"}),o.on("mouseover",()=>o.openTooltip()),o.on("mouseout",()=>{me!==o&&o.closeTooltip()}),o.on("click",e=>{if(e?.originalEvent?.stopPropagation?.(),me&&me!==o)try{me.closeTooltip()}catch{}me=o,o.openTooltip(),o.bringToFront()}),le.baseEdges.addLayer(o),e.extend([l.lat,l.lng]),e.extend([n.lat,n.lng]),a=!0}),a&&te.value.fitBounds(e,{padding:[40,40]})}function ye(){z.value||Be(),z.value?_e():we()}function we(){navigator.geolocation?(z.value=!0,G.value=!0,V.value=!0,I.value=navigator.geolocation.watchPosition(e=>{G.value=!1;const{latitude:a,longitude:t}=e.coords;Le(a,t)},e=>{console.error(e),G.value=!1,a.notify?.({type:"negative",message:e?.message?`GPS Error: ${e.message}`:"GPS Error"})},{enableHighAccuracy:!0,maximumAge:0,timeout:8e3})):a.notify?.({type:"negative",message:"‚ùå Browser ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö GPS"})}function _e(){z.value=!1,G.value=!1,null!==I.value&&(navigator.geolocation.clearWatch(I.value),I.value=null)}(0,l.sV)(async()=>{pe();const e=E();e&&ke(),await be()}),(0,l.xo)(()=>{_e(),te.value&&(te.value.remove(),te.value=null),window.removeEventListener("resize",he)});let xe=null;function Le(e,a){C.value={lat:e,lng:a},ne?ne.setLatLng([e,a]):ne=c().marker([e,a],{icon:P}).addTo(le.user),ue.value.push([e,a]),ue.value.length>Q&&ue.value.splice(0,ue.value.length-Q),oe?oe.setLatLngs(ue.value):oe=c().polyline(ue.value,{color:"orange",weight:4,dashArray:"5, 10"}).addTo(le.history),V.value&&te.value&&te.value.flyTo([e,a],ge(),{animate:!0,duration:.5}),M.value&&(clearTimeout(xe),xe=setTimeout(()=>Se(),900))}function Ae(){C.value&&te.value&&(te.value.flyTo([C.value.lat,C.value.lng],ge(),{animate:!0,duration:1}),V.value=!0)}function Fe(){ee.distance=0,ee.time=0,ae.distance=0,ae.time=0,se&&(le.route.removeLayer(se),se=null),ie&&(le.route.removeLayer(ie),ie=null),H.value=0,D=-1,M.value&&Se()}function Se(){if(!M.value)return;let e=null,t=0;if(C.value){const a=Qe(C.value.lat,C.value.lng);e=a.node,t=a.distance}else e=Object.keys(J.value).sort()[0]||null,t=0;if(!e)return;const l=Ke(e,M.value);if(!l)return void a.notify?.({type:"warning",message:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢"});Ee(l.path,C.value);const n=t+l.dist,o=n/80;0!==ee.distance&&z.value||(ee.distance=Math.round(n),ee.time=Math.round(o)),ae.distance=Math.round(n),ae.time=Math.round(o),qe(l.path,t)}function qe(e,a){if(!e||0===e.length)return void(O.value=[]);const t=[],l=[];a>12&&(t.push(`‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: ${e[0]}`),l.push(null));for(let a=0;a<e.length-1;a++){t.push(`‡∏à‡∏≤‡∏Å ${e[a]} ‡πÄ‡∏î‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á ${e[a+1]}`);const n=J.value[e[a+1]];l.push(n?c().latLng(n.lat,n.lng):null)}const n=J.value[e[e.length-1]];if(t.push(`‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß: ${e[e.length-1]}`),l.push(n?c().latLng(n.lat,n.lng):null),O.value=t,C.value){const e=c().latLng(C.value.lat,C.value.lng);let a=0;for(let t=0;t<l.length;t++){if(!l[t])continue;const n=e.distanceTo(l[t]);n<10&&(a=t+1)}a>H.value&&(H.value=Math.min(a,t.length-1))}if(j.value&&D!==H.value){const e=t[H.value];e&&We(e),D=H.value}}function Te(e){e&&(Be(),We("‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß"))}function Be(){if(!window.speechSynthesis)return;const e=new SpeechSynthesisUtterance("");e.volume=0,window.speechSynthesis.speak(e)}function We(e){if(!j.value)return;if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const a=new SpeechSynthesisUtterance(e);a.lang="th-TH",a.rate=1,a.pitch=1,a.volume=1;const t=window.speechSynthesis.getVoices(),l=t.find(e=>e.lang.includes("th")||e.lang.includes("TH"));l&&(a.voice=l),window.speechSynthesis.speak(a)}function Qe(e,a){let t=null,l=1/0;const n=c().latLng(e,a);for(const e in J.value){const a=J.value[e],o=n.distanceTo(c().latLng(a.lat,a.lng));o<l&&(l=o,t=e)}return{node:t,distance:l}}function Ke(e,a){if(!re.value[e]||!re.value[a])return null;if(e===a)return{path:[e],dist:0};const t={},l={},n=new Set;for(const e in re.value)t[e]=1/0;t[e]=0;const o=[{node:e,d:0}];while(o.length){o.sort((e,a)=>e.d-a.d);const{node:e,d:s}=o.shift();if(!n.has(e)){if(n.add(e),e===a)break;(re.value[e]||[]).forEach(a=>{const n=s+a.weight;n<t[a.node]&&(t[a.node]=n,l[a.node]=e,o.push({node:a.node,d:n}))})}}if(t[a]===1/0)return null;const s=[];let i=a;while(i)s.unshift(i),i=l[i];return{path:s,dist:t[a]}}function Ee(e,a){if(!e?.length)return;if(a&&J.value[e[0]]){const t=J.value[e[0]],l=[[a.lat,a.lng],[t.lat,t.lng]];se?se.setLatLngs(l):se=c().polyline(l,{color:"#ef4444",weight:4,dashArray:"10, 10",opacity:.7}).addTo(le.route)}const t=e.map(e=>J.value[e]).filter(Boolean).map(e=>[e.lat,e.lng]);t.length>1&&(ie?ie.setLatLngs(t):ie=c().polyline(t,{color:"#ef4444",weight:6,opacity:.9}).addTo(le.route))}return(e,a)=>{const s=(0,l.g2)("q-icon"),i=(0,l.g2)("q-item-section"),u=(0,l.g2)("q-item-label"),r=(0,l.g2)("q-item"),c=(0,l.g2)("q-btn"),d=(0,l.g2)("q-card"),W=(0,l.g2)("q-tooltip"),Q=(0,l.g2)("q-select"),K=(0,l.g2)("q-toggle"),E=(0,l.g2)("q-chip"),N=(0,l.g2)("q-card-section"),R=(0,l.g2)("q-avatar"),$=(0,l.g2)("q-list"),P=(0,l.g2)("q-spinner-gears"),I=(0,l.g2)("q-inner-loading"),V=(0,l.g2)("q-badge"),X=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(X,{padding:"",class:"bg-grey-2"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",m,[(0,l.Lk)("div",v,[a[15]||(a[15]=(0,l.Lk)("h1",{class:"text-h4 text-center text-weight-bold q-mb-xs text-primary"}," üó∫Ô∏è ‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ",-1)),a[16]||(a[16]=(0,l.Lk)("p",{class:"text-subtitle1 text-center text-grey-7 q-mb-lg"}," ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ß‡∏≤‡∏£‡∏µ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏î (Real-time) ",-1)),(0,l.bF)(d,{class:"full-width shadow-2 q-mb-lg",style:{"border-radius":"16px",overflow:"hidden"}},{default:(0,l.k6)(()=>[(0,l.bF)(r,{class:"bg-primary text-white q-py-md"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{name:"explore",size:"md"})]),_:1}),(0,l.bF)(i,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"text-h6"},{default:(0,l.k6)(()=>[...a[2]||(a[2]=[(0,l.eW)("‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞",-1)])]),_:1}),(0,l.bF)(u,{caption:"",class:"text-white opacity-80"},{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)(" ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(N,{class:"q-pa-sm q-pa-md-md"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",g,[(0,l.Lk)("div",p,[(0,l.bF)(d,{flat:"",bordered:"",class:"bg-grey-1",style:{"border-radius":"12px"}},{default:(0,l.k6)(()=>[(0,l.bF)(r,null,{default:(0,l.k6)(()=>[(0,l.bF)(i,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{name:z.value?"directions_run":"location_off",color:z.value?"positive":"grey-6",size:"md"},null,8,["name","color"])]),_:1}),(0,l.bF)(i,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"text-weight-medium"},{default:(0,l.k6)(()=>[...a[4]||(a[4]=[(0,l.eW)("‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°",-1)])]),_:1}),z.value?((0,l.uX)(),(0,l.Wv)(u,{key:0,caption:"",class:"text-positive"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(C.value?`${C.value.lat.toFixed(5)}, ${C.value.lng.toFixed(5)}`:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì GPS..."),1)]),_:1})):((0,l.uX)(),(0,l.Wv)(u,{key:1,caption:""},{default:(0,l.k6)(()=>[...a[5]||(a[5]=[(0,l.eW)("‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á",-1)])]),_:1}))]),_:1}),(0,l.bF)(i,{side:""},{default:(0,l.k6)(()=>[(0,l.bF)(c,{color:z.value?"negative":"primary",label:z.value?"‡∏´‡∏¢‡∏∏‡∏î":"‡πÄ‡∏£‡∏¥‡πà‡∏°",loading:G.value,rounded:"",unelevated:"",onClick:ye},null,8,["color","label","loading"])]),_:1})]),_:1})]),_:1})]),(0,l.Lk)("div",h,[(0,l.bF)(Q,{modelValue:M.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>M.value=e),Fe],options:Y.value,"emit-value":"","map-options":"",label:"üéØ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á",outlined:"",dense:"","bg-color":"white",disable:0===Y.value.length},{prepend:(0,l.k6)(()=>[(0,l.bF)(s,{name:"place",color:"secondary"})]),append:(0,l.k6)(()=>[C.value?((0,l.uX)(),(0,l.Wv)(c,{key:0,flat:"",round:"",dense:"",icon:"my_location",onClick:(0,o.D$)(Ae,["stop"])},{default:(0,l.k6)(()=>[(0,l.bF)(W,null,{default:(0,l.k6)(()=>[...a[6]||(a[6]=[(0,l.eW)("‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏∏‡∏ì",-1)])]),_:1})]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["modelValue","options","disable"])])]),(0,l.Lk)("div",f,[(0,l.Lk)("div",b,[(0,l.bF)(K,{modelValue:j.value,"onUpdate:modelValue":[a[1]||(a[1]=e=>j.value=e),Te],color:"secondary",icon:"volume_up",label:"‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ô‡∏≥‡∏ó‡∏≤‡∏á"},null,8,["modelValue"])])]),M.value?((0,l.uX)(),(0,l.CE)("div",k,[(0,l.Lk)("div",y,[(0,l.bF)(E,{outline:"",color:"primary",icon:"straighten",class:"q-pa-md",style:{height:"50px"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",w,[a[7]||(a[7]=(0,l.Lk)("div",{class:"text-caption text-weight-bold"},"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",-1)),(0,l.Lk)("div",_,(0,n.v_)(ee.distance)+" ‡∏°. ("+(0,n.v_)(t(60*ee.time))+") ",1)])]),_:1})]),(0,l.Lk)("div",x,[(0,l.bF)(E,{color:"secondary","text-color":"white",icon:"directions_walk",class:"q-pa-md",style:{height:"50px"}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",L,[a[8]||(a[8]=(0,l.Lk)("div",{class:"text-caption text-weight-bold"},"‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å",-1)),(0,l.Lk)("div",A,(0,n.v_)(ae.distance)+" ‡∏°. ("+(0,n.v_)(t(60*ae.time))+") ",1)])]),_:1})])])):(0,l.Q3)("",!0)]),_:1})]),_:1}),M.value&&O.value.length>0?((0,l.uX)(),(0,l.Wv)(d,{key:0,class:"full-width shadow-2 q-mb-lg",style:{"border-radius":"16px"}},{default:(0,l.k6)(()=>[(0,l.bF)(r,{class:"bg-secondary text-white"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{name:"list"})]),_:1}),(0,l.bF)(i,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{class:"text-h6"},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(N,{class:"q-pa-none"},{default:(0,l.k6)(()=>[(0,l.bF)($,{separator:""},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(O.value,(e,a)=>((0,l.uX)(),(0,l.Wv)(r,{key:a,active:a===H.value,"active-class":"bg-blue-1 text-primary text-weight-bold"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{avatar:""},{default:(0,l.k6)(()=>[(0,l.bF)(R,{size:"32px",color:"primary","text-color":"white"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(a+1),1)]),_:2},1024)]),_:2},1024),(0,l.bF)(i,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,null,{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e),1)]),_:2},1024)]),_:2},1024),a===H.value?((0,l.uX)(),(0,l.Wv)(i,{key:0,side:""},{default:(0,l.k6)(()=>[(0,l.bF)(s,{name:"directions_walk",color:"primary",class:"animate-bounce"})]),_:1})):(0,l.Q3)("",!0)]),_:2},1032,["active"]))),128))]),_:1})]),_:1})]),_:1})):(0,l.Q3)("",!0),(0,l.bF)(d,{class:"full-width relative-position shadow-2 map-container-card",style:{"border-radius":"16px",overflow:"hidden"}},{default:(0,l.k6)(()=>[a[14]||(a[14]=(0,l.Lk)("div",{id:"map-trace",class:"full-height"},null,-1)),(0,l.bF)(I,{showing:U.value},{default:(0,l.k6)(()=>[(0,l.bF)(P,{size:"50px",color:"primary"}),a[10]||(a[10]=(0,l.Lk)("div",{class:"text-subtitle2 q-mt-sm"},"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á...",-1))]),_:1},8,["showing"]),(0,l.Lk)("div",F,[(0,l.Lk)("div",S,[(0,l.Lk)("div",q,[(0,l.bF)(V,{rounded:"",color:"blue",class:"q-mr-xs"}),a[11]||(a[11]=(0,l.eW)(" ‡∏Ñ‡∏∏‡∏ì",-1))]),(0,l.Lk)("div",T,[(0,l.bF)(V,{rounded:"",color:"orange",class:"q-mr-xs"}),a[12]||(a[12]=(0,l.eW)(" ‡∏£‡∏≠‡∏¢‡πÄ‡∏ó‡πâ‡∏≤",-1))]),(0,l.Lk)("div",B,[(0,l.bF)(V,{rounded:"",color:"red",class:"q-mr-xs"}),a[13]||(a[13]=(0,l.eW)(" ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á",-1))])])])]),_:1})])])]),_:1})}}};var E=t(2968),N=t(5013),R=t(3341),$=t(2589),P=t(4958),z=t(3933),G=t(1420),I=t(222),C=t(9039),M=t(7437),V=t(8387),X=t(5725),Z=t(1529),U=t(3766),j=t(5305),O=t(8356),H=t(9667),D=t(8155),J=t(272),Y=t.n(J);const ee=(0,E.A)(K,[["__scopeId","data-v-023778b4"]]),ae=ee;Y()(K,"components",{QPage:N.A,QCard:R.A,QItem:$.A,QItemSection:P.A,QIcon:z.A,QItemLabel:G.A,QCardSection:I.A,QBtn:C.A,QSelect:M.A,QTooltip:V.A,QToggle:X.A,QChip:Z.A,QList:U.A,QAvatar:j.A,QInnerLoading:O.A,QSpinnerGears:H.A,QBadge:D.A})}}]);